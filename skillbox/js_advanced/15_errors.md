###
Отклонить:
1-е задание:
- изменен код fetchAvatarImage
- не используют try/catch
    В fetchAvatarImage не нужно было менять код. Эта функция должна вернуть ошибку. Вам для этой задачи нужно правильно обработать ее с помощью try/catch в getAvatarUrl.
    ---
    Тесты работают, но это не совсем то что требовалось в ДЗ. В fetchAvatarImage не нужно было менять код. Эта функция должна вернуть ошибку. Вам для этой задаче нужно использовать try/catch.

        В целом логика такая. У вас есть запрос для получения картинки. Если возвращает ошибку (т.е. картинка не получена), то нужно отобразить на странице что-то другое. В данном случае дефолтное изображение.


- getMarketingPrice в блоке try/catch есть throw new Error();

2-е задание:
- ?status=200?json_invalid
    Обработайте ситуацию, когда сервер вернул невалидный JSON. Отобразите информационный блок с текстом «Произошла ошибка, попробуйте обновить страницу позже».

- CORS

###
Принять
Все выглядит отлично! Вы детально проработали все ошибки за что вам большой плюс.
---
Проверил второе задание. В целом все выполнено по ДЗ. Вы предусмотрели обработку всех ошибок. И даже больше!
---
Я принимаю ДЗ так как все условия выполнены.

###
Похвалить
Первое задание выполнено на отлично! Вы правильно использовали try/catch.
​Жду следующее задание.
---
Вам плюсик за неплохое оформление визуальной части работы!
---
Вам плюсик за использование неплохого решения для второго запроса при 500 ошибке.

###
Рекомендации:
Рекомендую также почитать вот эту статью, в ней более подробно объясняется, как обработать ошибки.
https://learn.javascript.ru/try-catch
---
Хотя вы правильно использовали try/catch, я все же рекомендую почитать вот эту статью. Практика никогда не бывает лишней.
https://learn.javascript.ru/try-catch
---
Дополнительно можете изучать вот эту статью. Этот материал вам может помочь в следующем ДЗ.
https://learn.javascript.ru/custom-errors
---
Можете почитать вот эту статью, ту более подробно описывается работа с промисами

https://learn.javascript.ru/promise-basics#potrebiteli-then-catch-finally


###
Прочее


2-е задание:
- CORS
Странно. Запуште, пожалуйста, все изменения чтобы я смог проверить.

    Попробуйте добавить следующую опцию при запросе:

    fetch(url, { mode: 'no-cors' })

    ---------

    Попробуйте вручную установить библиотеку для cors
    npm install cors

    И в файле сервера ./15_errors/02/server/index.js нужно добавить импорт этой бибилиотеки

    const cors = require('cors')

    И затем ниже добавить обработчик::
    app.use(cors())


- api/products?status=200&json_invalid=true неработает
    ...

        Это в самом начале звучит нелогично, но сами сервера пишут точно такие же люди, и подобные коды устанавливают они же. И как вы понимаете никто не застрахован от ошибок.

        А теперь представьте себе ситуацию когда на сервере был отправлен запрос и при формировании ответа ни одной ошибки не было обнаружено. Естественно с сервера был послан успешный ответ, хоть и содержащий пустоту. Это довольно распространённый вариант ошибки которую вам нужно знать и уметь ее перехватить.

- а как offline ?
Очень просто, вот так.

window.addEventListener('offline', (event) => {
    showAlert("The network connection has been lost.");
});

Проверить это можно если открыть страницу, и если перейти в офллайн режим в консоли разработчии, то вы должны будете увидеть данное сообщение.
---
Для запуска тестов перейдите в папку задания и выполните команду

npm test
Для запуска сервера аналогично перейдите в папку задания и выполните команду

npm start

    Вы открываете сам файл, а нужно ссылку, полученную после запуска сервера.

    1) Вам нужно запустить сервер c помощью команды:

    npm start
    2) Открыть страницу http://localhost:3000  в браузере. Это пустая страница с которой идут запросы на сервер за массивом с данными. Помимо массива с данными этот запрос выдает ошибки в случайном порядке. Эти ошибки вам и нужно обработать для второго задания.
---
