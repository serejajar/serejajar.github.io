Работа выполнена на отлично и вам плюсик за использование библиотеки inquirer. ДЗ принято.


Рекомендации к следующему ДЗ
- Если будете использовать mongodb для следующего ДЗ, то помните что Map() может не корректно работать с ObjectId. Поэтому лучше использовать метод toString() при сохранении пользователя в req:

function getUserByCredentials(db, username, password) {
  return db
    .collection("users")
    .findOne({ name: username, password: hash(password.trim()) }, { name: 1, password: 0 })
    .then((user) => {
      user._id = user._id.toString();
      return user;
    });
}



###
Отклонить:

###
Принять
Приложение работает, ошибок нет, все выполнено в соответствии с заданием. ДЗ принято.
---
Работа выполнена на отлично и вам плюсик за использование библиотеки inquirer. ДЗ принято.

###
Похвалить
Вам плюсик за использование библиотеки minimist
---
Теперь все работает как нужно. Вам большой плюс за детальные исправления.
---
В целом все отлично! Код хорошо написан, есть разделение кода и используется router, за что вам плюсик.

###
Рекомендации:
minimist?

# Что можно исправить.

При неверном значении сессии (я проверял предыдущую работу) не возможно залогинится. Тут важно учитывать что файл сессии может быть испорчен.


###
Старое
9. CLI программы

---------


# Как сделать одну команду
Вот пример реализации от другого студента. Тут исходя из аргумента вызываются различные функции:

switch (process.argv[2]) {
  case "signup":
    sendCredentials("signup")
      .then((res) => console.log(chalk.bold.green(`\n   ✅  ${res}\n`)))
      .catch((err) => console.log(chalk.bold.red(`\n   ⛔️  ${err.message}\n`)));
    break;
А тут сама реализация функции которая вызывает ввод от inquirer, и отправляет полученные данные на сервер.

const questions = {
  username: {
    message: "Username: ",
  },
  password: {
    type: "password",
    message: "Password: ",
    mask: "*",
  },
};

async function sendCredentials(endpoint) {
  const promptRes = await inquirer.prompt(questions);

  const apiRes = await fetch(`${server}/${endpoint}`, {
    method: "post",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(promptRes),
  });

  return apiRes.json();
}


Ранее app.get("/") возвращал верстку html страницы, но теперь он не нужен, так как страниц в CLI-приложении нет. Перенесите серверную часть из прошлого задания и проверьте ее с помощью программы Постман. После перейдем к созданию авторизации.

    Сделайте запрос к app.get("/api/timers"). В этом руте вам нужно будет на время установить id существующего пользователя или вернуть таймеры всех пользователей.



---------------------
С параметром GET запроса вы уже работали передавая состояние таймера.

С помощью Постман добавьте значение для заголовка. Про header-ы вы можете прочитать здесь: https://developer.mozilla.org/ru/docs/Web/HTTP/Headers

      Откройте Postman и там где вы отправляете запросы есть вкладка Headers. Откройте ее и там вы увидите поле ввода. Введите туда тестовое значение и отправьте запрос. В руте выего можете получить с помощью req.get()

      http://expressjs.com/en/api.html#req.get


Теперь создайте клиентскую часть, которая будет обрабатывать переданные аргументы (логин/пароль и пр. из примеров).

      Теперь вам нужно отправить GET/POST запрос на соответсвующий рут (например: /login) с теми данными которые вы получили.
