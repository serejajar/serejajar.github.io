Все выполнено по условиям ДЗ. Вам большой плюс за самостоятельно решение проблем связанных с тестами. ДЗ принято.

Что можно исправить:
- Добавить в package.json команду для запуска тестов "test": "jest", чтобы можно было запустить тесты с помощью команды:
npm test


Рекомендации:
- Вы также можете использовать циклы в самих тестах. Это может значительно сократить код тестов

it('выдаёт предупреждение, если есть экранирование', () => {
  const dangerousCases = [
    '<script>alert(1)</script>',
    '"><img src=x onerror=alert(1)>',
    'javascript:alert(1)',
    'data:text/html,<script>alert(1)</script>',
    ' onmouseover=alert(1) ',
    '../../etc/passwd',
    ' UNION SELECT * FROM users --',
    '<svg/onload=alert(1)>',
    '"><iframe src="javascript:alert(1)">',
  ];

  dangerousCases.forEach((input) => {
    const result = validateCityName(input);

    expect(result.isValid).toBe(false);
    expect([errors.city.escape, errors.city.invalid]).toContain(result.message);
  });
});

Часто это облегчает тестирование.

- Можете еще глянуть в сторону библиотеки для тестирования mocha. Несмотря на название он неплох
https://learn.javascript.ru/testing-mocha
https://mochajs.org/
Спасибо вам за неплохой код. Удачи в дальнейшей работе и обучении. Мне было приятно проверять ваши работы.

PS: Также будем рады вашему отзыву о работе куратора и о содержании курса на hello@skillbox.ru или в бот обратной связи.

# не пропускает корректные даты.
Обратите внимание, на следующее условие:

Валидация даты выдаёт предупреждение, если дата раньше текущей.

У вас в этом тесте как раз дата в прошлом, поэтому isValid содержит false. Причину почему дата не валидна содержится в самом result в свойстве message. Например, для этой даты:


# Ошибка Jest encountered an unexpected token
Ошибка возникает из-за конфигурации Jest, точнее из-за его отсутствия, поэтому Jest не понимает как интерпретировать TypeScript и выдает ошибку синтаксиса. Как настроить этот конфиг вы можете узнать из видео 7.3 этого модуля. Например, в 2:40 как раз идет речь про создание файла конфигурации Jest.
