Задачи выполнены на отлично и вам плюсик за то что вы верно использовали объект Date. ДЗ принято.

Что можно исправить:
- Сортировка не работает по условиям ДЗ

Рекомендации:
- Хочу вам порекомендовать статью про функции, где более подробно рассказывается про них. В конце статьи так же есть задачи для тренировки:
https://learn.javascript.ru/function-basics
- Рекомендую изучить метод filter, с помощью которого можно сделать 2-ю задачу без использования цикла
function filter(whiteList, blackList) {
    return whiteList.filter((email) => blackList.includes(email));
}
https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/filter
PS: Если у вас появятся вопросы по этому ДЗ, то вы их можете задать в чате следующего модуля.


# Старое
-----
- У вас падают тесты из-за неправильного экспорта. Вы это можете увидеть в pipelines

Нужно чуть подправить экспорт:
export default calculate;

- У вас неверно высчитана сумма в задаче с подсчетом скидки, например сумма не должна быть со знаком минус, так как продавец точно не будет платить покупателю за его покупки:

- Функция не возвращает значение. Вы можете увидеть в тестах с какими аргументами запускается ваша функция и что она возвращает. Вот вывод теста:

Вы можете заметить вызов самой функции:

calculate(10, 9)

А так же ожидаемое и полученное значение:

Expected: 10
Received: undefined

Как видите полученное значение равно undefined что означает что вам нужно его вернуть с помощью return. Исправьте это и проверьте с помощью тестов логику вашего кода.


Пример решения задачи со скидками:

function calculate(sum, items, promo = null) {
  if (promo === 'ДАРИМ300') {
    if (sum <= 300) {
      sum = 0;
    } else {
      sum -= 300;
    }
  }

  if (items >= 10) {
    let procent = sum / 100 * 5;
    sum -= procent;
  }

  if (sum > 50000) {
    let addedIndex = sum - 50000;
    let procentAddedIndex = addedIndex / 100 * 20;
    sum -= procentAddedIndex;
  }

  if (sum >= 20000 && promo === 'СКИДКА15') {
    let sumProcent = sum / 100 * 15;
    sum -= sumProcent;
  }

  return sum;
}

export default calculate;

Пример решения задачи с фильтрацией:

function filter(mailList, badMail) {
  let finishMail = [];

  for (let i of mailList) {
    if (!badMail.includes(i)) {
      finishMail.push(i);
    }
  }

  return finishMail;
}

export default filter;



###
Отклонить:

- Received: undefined
    Отлично! Теперь вы можете увидеть в тестах с какими аргументами запускается ваша функция и что она возвращает. Вот вывод теста:

    Вы можете заметить вызов самой функции:

    calculate(10, 9)

    А так же ожидаемое и полученное значение:

    Expected: 10
    Received: undefined

    Как видите полученное значение равно undefined что означает что вам нужно его вернуть с помощью return. Исправьте это и проверьте с помощью тестов логику вашего кода.



0. Общее:



- не возвращают значение из функций
    Так же в самой функции вам нужно вернуть сумму после высчитывания всех скидок с помощью return. Тесты работают только когда эта сумма возвращена.
    ---
    Так же не забудьте в функции вернуть значение, чтобы тесты корректно отработали.


- не знают как тестировать
    В папке задания выполните команду:

    npm test

- не понимают как читать тесты
    Посмотрите в pipelines где указано что ожидается (Expected) и что пришло на самом деле (Received). Вы сразу увидите отличие и причину почему тесты падают.

- пишут код в других файлах:
    Перенесите код для каждого задания в соответсвующий ему файл чтобы можно было запустить тесты. Например, код для скидок в файл cart-total.js и т.д.


1. Задача с фильтрацией
- неправильно передают аргументы или не понимают как должна работать функция

    Вот пример что получает функция:

    filter(['1', '2', '3', '4', '5'], ['3', '4']) /* должна вернуть  ['1', '2', '5'] */


2. Задача со скидками:
- уходят в в минус, т.е. не возвращают 0
    Когда сумма будет равна 0, то вам нужно ее вернуть с помощью return, так как все последующие скидки просто неоткуда будет вычитать.

# вычитают из переданной суммы, а не высчитанной

Присмотритесь к условию ДЗ:
Правила и порядок (порядок важен!) начисления скидок:
Т.е. вы выполняете действие по одной скидке и для следующего вычитания вы используете сумму от первого и т.д.


---------------

Вот пример что получает функция:

filter(['1', '2', '3', '4', '5'], ['3', '4']) /* должна вернуть  ['1', '2', '5'] */

--------

Вам нужно вернуть суммируемое значение для функции cart (2-е задание) и список email-ов для функции filter (1-е задание).

Проверить корректность работы функций вы можете с помощью команды

npm test

--------

Это задание с автотестами, т.е. для ДЗ создается отдельный репозиторий, куда вам нужно залить файлы в ветку homework. Gitlab автоматически установит все библиотеки и запустит тесты и их результат можно проверить (см. инструкцию по автотестам из описания ДЗ).

Вы запускаете тесты локально, т.е. вам нужно перед этим установить все необходимые библиотеки с помощью команды

npm i
и после этого запускать команды для тестирования.

---
Вы запускаете тесты локально, т.е. вам нужно перед этим установить все необходимые библиотеки с помощью команды

npm i
или запускать тесты с помощью

npm test
В этом скрипте присутствует команда npm i

--------
Автотесты только недавно ввели, с ними еще много путаницы.

--------
Для задания с автотестами создаются отдельные репозитории.
----------
В принципе все верно, но у вашей функции должно быть два аргумента: массив с обычным емейлами и массив с блокированными емейлами.
---

function filter(mailList, badMail) {
  let finishMail = [];

  for (let i of mailList) {
    if (!badMail.includes(i)) {
      finishMail.push(i);
    }
  }

  return finishMail;
}

export default filter;



----
function calculate(sum, items, promo = null) {
  if (promo === 'ДАРИМ300') {
    if (sum <= 300) {
      sum = 0;
    } else {
      sum -= 300;
    }
  }

  if (items >= 10) {
    let procent = sum / 100 * 5;
    sum -= procent;
  }

  if (sum > 50000) {
    let addedIndex = sum - 50000;
    let procentAddedIndex = addedIndex / 100 * 20;
    sum -= procentAddedIndex;
  }

  if (sum >= 20000 && promo === 'СКИДКА15') {
    let sumProcent = sum / 100 * 15;
    sum -= sumProcent;
  }

  return sum;
}

export default calculate;
